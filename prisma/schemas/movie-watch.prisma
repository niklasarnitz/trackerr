model MovieWatch {
    id               String            @id @default(cuid())
    movieId          String
    movie            Movie             @relation(fields: [movieId], references: [id], onDelete: Cascade)
    userId           String
    user             User              @relation(fields: [userId], references: [id], onDelete: Cascade)
    watchedAt        DateTime          @default(now())
    rating           Float? // 0.0 - 5.0 in 0.5 steps (validated in application layer)
    review           String?
    watchLocation    WatchLocation     @default(ON_DEMAND)
    streamingService StreamingService?

    cinemaWatchMetadata CinemaWatchMetadata?
    externalActionMetadataTags ExternalActionMetadataTag[]

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([userId, movieId, watchedAt])
}
